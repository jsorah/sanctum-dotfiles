# Don't do anything if not running interactively.
[ -z "$PS1" ] && return

# Keep plenty of history.
unset HISTFILESIZE
HISTSIZE=1000000

# Ignore duplicate commands and whitespace in history.
HISTCONTROL=ignoreboth

# Keep the times of the commands in history.
HISTTIMEFORMAT='%F %T  '

# Ignore certain commands for the history.
HISTIGNORE='ls:ls -l:ls -la:fg:bg:jobs:history'

# Add all commands to the history immediately.
PROMPT_COMMAND='history -a; history -n'

# Don't check for mail all the time, it's irritating.
unset MAILCHECK

# Autocorrect fudged paths in cd calls.
shopt -s cdspell

# Update columns and rows if window size changes.
shopt -s checkwinsize

# Put multi-line commands onto one line of history.
shopt -s cmdhist

# Append rather than overwrite Bash history.
shopt -s histappend

# If this is an xterm, try for 256 colors.
case "$TERM" in
    xterm*) TERM=xterm-256color
esac

# Simple prompt.
PS1='\u@\h:\w\$ '

# Use colors for ls and grep, if available.
if [ -x /usr/bin/dircolors ]; then
    eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias grep='grep --color=auto'
fi

# Use completion, if available.
if [ -e /etc/bash_completion ]; then
    . /etc/bash_completion
fi

# SSH agent setup, if available.
if [ -e ~/.ssh/agent ]; then
    . ~/.ssh/agent
fi

# Turn off annoying and useless flow control keys.
stty -ixon

# Never beep at me.
setterm -bfreq 0

# Use vi as my text editor, if available.
hash vi &>/dev/null
if [ $? -eq 0 ]; then
    export EDITOR=vi
fi

# Terminal-specific settings.
case "$TERM" in

    # Set title of screen/tmux window.
    screen*)
        printf "\033k$(hostname)\033\\"
        ;;

    # Set xterm title, use 256 colors.
    xterm*)
        PS1="\[\e]0;\h\a\]${PS1}"
        TERM=xterm-256color
        ;;
esac

