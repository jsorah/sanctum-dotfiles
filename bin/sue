#!/bin/sh
# Run sudoedit(8) with an appropriate user on a set of files
user=
for file ; do
    file_owner=$(stat -c %U -- "$file") || exit
    case $user in
        "$file_owner"|'')
            user=$file_owner
            ;;
        *)
            printf >&2 'sue: Files do not share a common owner\n'
            exit 1
            ;;
    esac
done
sudoedit -u "$user" -- "$@"
