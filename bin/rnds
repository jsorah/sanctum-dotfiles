#!/bin/sh
# Try to get a low-quality random seed from a random device if possible
[ "$#" -le 1 ] || exit 2
for dev in /dev/urandom /dev/arandom /dev/random '' ; do
    [ -e "$dev" ] && break
done
[ -n "$dev" ] || exit 1
count=${1:-32}
dd if="$dev" bs=1 count="$count" 2>/dev/null |
cksum |
cut -d' ' -f1
